{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import CartItems from'../Components/CartItems.js';import{clearAll,addItem}from'../Redux/Actions/cartAction.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CheckOut=()=>{const[total,setTotal]=useState(0);const[checkedOut,setcheckedOut]=useState(false);const data=useSelector(state=>state.cart);const dispatch=useDispatch();useEffect(()=>{if(data.length===0&&localStorage.getItem('cart-items')){const tempArr=JSON.parse(localStorage.getItem('cart-items'));tempArr.map(product=>{return dispatch(addItem(product));});}},[data.length,dispatch]);useEffect(()=>{let temp=0;data&&data.forEach(element=>{temp+=element.price;});setTotal(temp);localStorage.setItem('cart-items',JSON.stringify(data));},[data]);function checkOutOrders(){dispatch(clearAll());localStorage.clear();setcheckedOut(true);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"items-container\",children:[checkedOut&&/*#__PURE__*/_jsx(\"h1\",{children:\"Orders Placed SuccessFully\"}),data&&data.map(item=>{return/*#__PURE__*/_jsx(CartItems,{item:item},item.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',marginBottom:'3rem',fontSize:'1.3rem',fontWeight:'500'},children:\"Checkout List\"}),/*#__PURE__*/_jsx(\"ol\",{children:data&&data.map(item=>{return/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{children:item.title}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"$ \",item.price]}),\" \"]},item.id);})}),/*#__PURE__*/_jsxs(\"p\",{className:\"total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total :\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"$ \",total]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"CheckOut\",onClick:checkOutOrders,children:\"Click To Checkout\"})]})]})]});};export default CheckOut;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","CartItems","clearAll","addItem","jsx","_jsx","jsxs","_jsxs","CheckOut","total","setTotal","checkedOut","setcheckedOut","data","state","cart","dispatch","length","localStorage","getItem","tempArr","JSON","parse","map","product","temp","forEach","element","price","setItem","stringify","checkOutOrders","clear","children","className","item","id","style","textAlign","marginBottom","fontSize","fontWeight","title","onClick"],"sources":["C:/Users/shrye/OneDrive/Desktop/project/react-shopping/src/Pages/CheckOut.js"],"sourcesContent":["import React,{ useState,useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CartItems from '../Components/CartItems.js';\nimport { clearAll, addItem } from '../Redux/Actions/cartAction.js';\n\n\nconst CheckOut = () => {\n  const [total, setTotal] = useState(0);\n  const [checkedOut, setcheckedOut] = useState(false);\n  const data = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  \n  useEffect(()=>{\n      if(data.length === 0 && localStorage.getItem('cart-items')){\n        const tempArr = JSON.parse(localStorage.getItem('cart-items'));\n        tempArr.map(product=>{\n          return dispatch(addItem(product));\n        })\n      }\n  },[data.length, dispatch]);\n  \n  useEffect( ()=>{\n    let temp = 0;\n    data && data.forEach(element => {\n      temp += element.price;\n    });\n    setTotal(temp);\n    localStorage.setItem('cart-items',JSON.stringify(data));\n  },[data]);\n\n  function checkOutOrders(){\n    dispatch(clearAll());\n    localStorage.clear();\n    setcheckedOut(true);\n  }\n  return (\n    <div>\n      <h2>My Cart</h2>\n      <div className=\"wrapper\">\n        <div className=\"items-container\">\n          {\n            checkedOut && <h1>Orders Placed SuccessFully</h1>\n          }\n          {\n            data &&\n            data.map(item=>{\n              return <CartItems key={item.id} item={item}/>\n            })\n          }\n        </div>\n        <div className=\"cart\">\n          <h3 style={{textAlign: 'center' , marginBottom : '3rem' , fontSize: '1.3rem' , fontWeight: '500'}}>Checkout List</h3>\n          <ol>\n          {\n            data && data.map(item=>{\n              return <li key={item.id}> <span>{item.title}</span> <span>$ {item.price}</span> </li>\n            })\n          }\n          </ol>\n          <p className='total'><span>Total :</span> <span>$ {total}</span></p>\n\n          <button className='CheckOut' onClick={checkOutOrders}>Click To Checkout</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CheckOut\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAACC,SAAS,KAAQ,OAAO,CAChD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,OAASC,QAAQ,CAAEC,OAAO,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGnE,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAgB,IAAI,CAAGb,WAAW,CAACc,KAAK,EAAIA,KAAK,CAACC,IAAI,CAAC,CAC7C,KAAM,CAAAC,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAI,CACV,GAAGe,IAAI,CAACI,MAAM,GAAK,CAAC,EAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CACzD,KAAM,CAAAC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,CAC9DC,OAAO,CAACG,GAAG,CAACC,OAAO,EAAE,CACnB,MAAO,CAAAR,QAAQ,CAACb,OAAO,CAACqB,OAAO,CAAC,CAAC,CACnC,CAAC,CAAC,CACJ,CACJ,CAAC,CAAC,CAACX,IAAI,CAACI,MAAM,CAAED,QAAQ,CAAC,CAAC,CAE1BlB,SAAS,CAAE,IAAI,CACb,GAAI,CAAA2B,IAAI,CAAG,CAAC,CACZZ,IAAI,EAAIA,IAAI,CAACa,OAAO,CAACC,OAAO,EAAI,CAC9BF,IAAI,EAAIE,OAAO,CAACC,KAAK,CACvB,CAAC,CAAC,CACFlB,QAAQ,CAACe,IAAI,CAAC,CACdP,YAAY,CAACW,OAAO,CAAC,YAAY,CAACR,IAAI,CAACS,SAAS,CAACjB,IAAI,CAAC,CAAC,CACzD,CAAC,CAAC,CAACA,IAAI,CAAC,CAAC,CAET,QAAS,CAAAkB,cAAcA,CAAA,CAAE,CACvBf,QAAQ,CAACd,QAAQ,CAAC,CAAC,CAAC,CACpBgB,YAAY,CAACc,KAAK,CAAC,CAAC,CACpBpB,aAAa,CAAC,IAAI,CAAC,CACrB,CACA,mBACEL,KAAA,QAAA0B,QAAA,eACE5B,IAAA,OAAA4B,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB1B,KAAA,QAAK2B,SAAS,CAAC,SAAS,CAAAD,QAAA,eACtB1B,KAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,EAE5BtB,UAAU,eAAIN,IAAA,OAAA4B,QAAA,CAAI,4BAA0B,CAAI,CAAC,CAGjDpB,IAAI,EACJA,IAAI,CAACU,GAAG,CAACY,IAAI,EAAE,CACb,mBAAO9B,IAAA,CAACJ,SAAS,EAAekC,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACC,EAAgB,CAAC,CAC/C,CAAC,CAAC,EAED,CAAC,cACN7B,KAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnB5B,IAAA,OAAIgC,KAAK,CAAE,CAACC,SAAS,CAAE,QAAQ,CAAGC,YAAY,CAAG,MAAM,CAAGC,QAAQ,CAAE,QAAQ,CAAGC,UAAU,CAAE,KAAK,CAAE,CAAAR,QAAA,CAAC,eAAa,CAAI,CAAC,cACrH5B,IAAA,OAAA4B,QAAA,CAEEpB,IAAI,EAAIA,IAAI,CAACU,GAAG,CAACY,IAAI,EAAE,CACrB,mBAAO5B,KAAA,OAAA0B,QAAA,EAAkB,GAAC,cAAA5B,IAAA,SAAA4B,QAAA,CAAOE,IAAI,CAACO,KAAK,CAAO,CAAC,IAAC,cAAAnC,KAAA,SAAA0B,QAAA,EAAM,IAAE,CAACE,IAAI,CAACP,KAAK,EAAO,CAAC,IAAC,GAAhEO,IAAI,CAACC,EAA+D,CAAC,CACvF,CAAC,CAAC,CAEA,CAAC,cACL7B,KAAA,MAAG2B,SAAS,CAAC,OAAO,CAAAD,QAAA,eAAC5B,IAAA,SAAA4B,QAAA,CAAM,SAAO,CAAM,CAAC,IAAC,cAAA1B,KAAA,SAAA0B,QAAA,EAAM,IAAE,CAACxB,KAAK,EAAO,CAAC,EAAG,CAAC,cAEpEJ,IAAA,WAAQ6B,SAAS,CAAC,UAAU,CAACS,OAAO,CAAEZ,cAAe,CAAAE,QAAA,CAAC,mBAAiB,CAAQ,CAAC,EAC7E,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}